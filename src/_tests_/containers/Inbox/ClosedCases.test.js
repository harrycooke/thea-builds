import React from 'react';
import ReactDOM from'react-dom';
import TestRenderer from 'react-test-renderer'; // ES6
import {ClosedCases} from '../../../containers/Inbox/ClosedCases';
import reducers from '../../../reducers';
// import {exportedState} from '../state';
import sinon from 'sinon';
import { mount } from 'enzyme';

describe('ClosedCases', () => {
    beforeAll = () => {
        this.state = {
            redirect: false,
            readAllCases: [],
            selectedSpecialty: '',
            searchResultsForCases: [],
        }
    };

    it('renders without crashing', () => {
        const div = document.createElement('div');
        ReactDOM.render(ClosedCases, div);
    });

    it('renders React components, traversing a ReactElement tree and represents as JSON object', () => {
        const renderer = TestRenderer.create(ClosedCases);
        renderer.toJSON();
      });

    describe('ClosedCases', () => {
        it('should render correctly in "debug" mode', () => {
          const component = (ClosedCases);
          expect(component).toMatchSnapshot();
        });
      });

    
    // test('reducers', () => {
    //     let state;
    //     state = reducers({auth:{isAuthenticated:true,user:{iat:1596237203,exp:1627773203},userdata:{email:'chirag@theahealth.com',id:'10',firstName:'Chirag',lastName:'Jain',password:'001b072b33f469c0',created:'2019-08-10T04:42:00.000Z',user_type:'PCP',specialty:'none',notification:true,avatar:{name:'https://theahealth-aws.s3.us-east-2.amazonaws.com/files-for-case/1594194909067Untitleddesign.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAJJHGEGPNWNHNBXUQ%2F20200731%2Fus-east-2%2Fs3%2Faws4_request&X-Amz-Date=20200731T231323Z&X-Amz-Expires=900&X-Amz-Signature=4c8a1612606c316312f9b509be4093f2d2438e32754194260113b600b0c9c2f6&X-Amz-SignedHeaders=host',type:'image/png'},licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null,existedAvatar:{name:'1594194909067Untitleddesign.png',type:'image/png'}},clientdata:{},loading:false,forgotPasswordState:false,specialtyData:[],showSnackbar:false,practiceData:{},stripeData:{}},chat:{sendMessages:[],readMessages:[]},'case':{sendCases:[],currentCase:[],readAllCases:[],numberOfNewMessage:0,caseLoader:false,showSnackbar:false},draft:{saveDraft:[],currentDraft:[],readAllDrafts:[{draftData:{case_id:'011e0e2f32f26bc101eaa4d947',provider_id:'10',specialist_id:'22',specialty:'Endocrinology',created_at:'1594189635378',patient_name:'',questions:'',files:[],is_completed:false,created_by_id:'10',updated_at:'1594189635378',patient_consent_given:false,id:'4'}},{draftData:{case_id:'784e59697af56cc807efa4d944c7a53b9583',provider_id:'10',specialist_id:'100',specialty:'Orthopedics',created_at:'1589506223714',patient_name:'Henry',questions:'SSBoYXZlIEhlbnJ5J3Mgc3ltcHRvbXM=',files:[],is_completed:false,created_by_id:'10',updated_at:'1589506223714',patient_consent_given:false,id:'3'}},{draftData:{case_id:'011e0f2e33f26fc503ebacde46',provider_id:'10',specialist_id:'26',specialty:'Dermatology',created_at:'1589506215758',patient_name:'P_Name',questions:'SGV5IEkgaGF2ZSBhIHF1ZXN0aW9u',files:[],is_completed:false,created_by_id:'10',updated_at:'1589506215758',patient_consent_given:false,id:'1'}},{draftData:{case_id:'734352697aa868c508eeacd14fcba03f958d5c',provider_id:'10',specialist_id:'21',specialty:'Ophthalmology',created_at:'1589337991073',patient_name:'Cheryl',questions:'d2tqZWJmamVoZiB2LC5zZiBiaw==',files:[],is_completed:false,created_by_id:'10',updated_at:'1589337991073',patient_consent_given:false,id:'2'}}],isDraftDeleted:false,draftLoader:false},errors:{}}, {type:'FETCH_ALL_CASES',payload:[]});
    //     expect(state).toEqual({auth:{isAuthenticated:true,user:{iat:1596237203,exp:1627773203},userdata:{email:'chirag@theahealth.com',id:'10',firstName:'Chirag',lastName:'Jain',password:'001b072b33f469c0',created:'2019-08-10T04:42:00.000Z',user_type:'PCP',specialty:'none',notification:true,avatar:{name:'https://theahealth-aws.s3.us-east-2.amazonaws.com/files-for-case/1594194909067Untitleddesign.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAJJHGEGPNWNHNBXUQ%2F20200731%2Fus-east-2%2Fs3%2Faws4_request&X-Amz-Date=20200731T231323Z&X-Amz-Expires=900&X-Amz-Signature=4c8a1612606c316312f9b509be4093f2d2438e32754194260113b600b0c9c2f6&X-Amz-SignedHeaders=host',type:'image/png'},licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null,existedAvatar:{name:'1594194909067Untitleddesign.png',type:'image/png'}},clientdata:{},loading:false,forgotPasswordState:false,specialtyData:[],showSnackbar:false,practiceData:{},stripeData:{}},chat:{sendMessages:[],readMessages:[]},'case':{sendCases:[],currentCase:[],readAllCases:[{caseData:{case_id:'29',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'50',specialty:'Dermatology',is_read:true,updated_at:'1587700047061',created_at:'1565318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'20',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'41',specialty:'Dermatology',is_read:true,updated_at:'1586992101606',created_at:'1574318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'22',provider_id:'10',specialist_id:'1',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'43',specialty:'Dermatology',is_read:true,updated_at:'1586991763570',created_at:'1572318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'18',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'39',specialty:'Dermatology',is_read:true,updated_at:'1586991738084',created_at:'1576318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'16',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'37',specialty:'Dermatology',is_read:true,updated_at:'1585299908493',created_at:'1578318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'14',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'35',specialty:'Dermatology',is_read:true,updated_at:'1583350025721',created_at:'1580318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'21',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'42',specialty:'Dermatology',is_read:true,updated_at:'1583196666530',created_at:'1573318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'19',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'40',specialty:'Dermatology',is_read:true,updated_at:'1583196146308',created_at:'1575318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'13',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'34',specialty:'Neurology',is_read:true,updated_at:'1583190028615',created_at:'1581318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'444e446f32f16ec204edaddf46caa13e97',provider_id:'10',specialist_id:'2',patient_name:'Test',questions:'ZmZm',created_by_id:'10',last_updated_by_id:'10',id:'1',specialty:'Dermatology',is_read:true,updated_at:'1583181388284',created_at:'582318853867',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null},senderData:{id:'2',firstName:'Jeff',lastName:'Claude',email:'jeff@theahealth.com',password:'5a4e517d32f668c2',created:null,user_type:'Specialist',specialty:'Dermatology',notification:true,avatar:null,licenseNumber:null,npi:null,practice_id:null,practice_name:null,is_admin:null}},{caseData:{case_id:'17',provider_id:'10',specialist_id:'2',patient_name:'test',questions:'dGVzdA==',created_by_id:'1',last_updated_by_id:'10',id:'38',specialty:'Dermatology',is_read:true,updated_at:'1582582487158',created_at:'1577318853000',is_deleted:true,patient_consent_given:true,patient_id:null,files:null,is_read_by_other:null}}],numberOfNewMessage:0,caseLoader:false,showSnackbar:false},draft:{saveDraft:[],currentDraft:[],readAllDrafts:[{draftData:{case_id:'011e0e2f32f26bc101eaa4d947',provider_id:'10',specialist_id:'22',specialty:'Endocrinology',created_at:'1594189635378',patient_name:'',questions:'',files:[],is_completed:false,created_by_id:'10',updated_at:'1594189635378',patient_consent_given:false,id:'4'}},{draftData:{case_id:'784e59697af56cc807efa4d944c7a53b9583',provider_id:'10',specialist_id:'100',specialty:'Orthopedics',created_at:'1589506223714',patient_name:'Henry',questions:'SSBoYXZlIEhlbnJ5J3Mgc3ltcHRvbXM=',files:[],is_completed:false,created_by_id:'10',updated_at:'1589506223714',patient_consent_given:false,id:'3'}},{draftData:{case_id:'011e0f2e33f26fc503ebacde46',provider_id:'10',specialist_id:'26',specialty:'Dermatology',created_at:'1589506215758',patient_name:'P_Name',questions:'SGV5IEkgaGF2ZSBhIHF1ZXN0aW9u',files:[],is_completed:false,created_by_id:'10',updated_at:'1589506215758',patient_consent_given:false,id:'1'}},{draftData:{case_id:'734352697aa868c508eeacd14fcba03f958d5c',provider_id:'10',specialist_id:'21',specialty:'Ophthalmology',created_at:'1589337991073',patient_name:'Cheryl',questions:'d2tqZWJmamVoZiB2LC5zZiBiaw==',files:[],is_completed:false,created_by_id:'10',updated_at:'1589337991073',patient_consent_given:false,id:'2'}}],isDraftDeleted:false,draftLoader:false},errors:{}});
    //   });

    // it('calls funcName', () => {
    //     sinon.spy(ClosedCases.prototype, 'funcName');
    //     const wrapper = mount(<ClosedCases />);
    //     expect(ClosedCases.prototype.componentDidMount).to.have.property('callCount', 1);
    // });
    
    // it('allows us to set props', () => {
    //     const wrapper = mount(<ClosedCases bar="baz" />);
    //     expect(wrapper.props().bar).to.equal('baz');
    //     wrapper.setProps({ bar: 'foo' });
    //     expect(wrapper.props().bar).to.equal('foo');
    // });
    
    // it('simulates click events', () => {
    //     const onButtonClick = sinon.spy();
    //     const wrapper = mount((
    //         <ClosedCases onButtonClick={onButtonClick} />
    //     ));
    //     wrapper.find('button').simulate('click');
    //     expect(onButtonClick).to.have.property('callCount', 1);
    // });
});